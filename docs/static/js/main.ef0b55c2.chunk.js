(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t,a){e.exports=a(59)},59:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(29),o=a.n(r),c=a(12),i=a(8),l=a(9),u=a(11),m=a(10),p=a(15),h=a(14),d=a.n(h),g=a(6),f=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={cellNum:123,errMsg:"",showPhoneInput:!0,showCodeInput:!1,verifyCode:123,uid:0},e.inputChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e.cleanData=function(t){if(console.log(t),!(t.length<10)){if(10===t.length)return"+1".concat(t);for(var a=[],n=0;n<t.length;n++)Number(t[n])&&a.push(t[n]);return"+1".concat(a.join(""))}e.setState({errMsg:"the number should be 10 digits."})},e.getCode=function(t){t.preventDefault(),console.log("".concat("https://covid-notifier-server.herokuapp.com","/signup"));var a=e.cleanData(e.state.cellNum);a&&12===a.length&&d.a.post("".concat("https://covid-notifier-server.herokuapp.com","/signup"),{cellNum:a}).then((function(t){console.log(t.data),e.setState({showPhoneInput:!1,showCodeInput:!0,errMsg:"",uid:t.data.createdUser._id,cellNum:t.data.createdUser.cellNum}),e.props.setUid(t.data.createdUser._id)})).catch((function(t){e.setState({errMsg:t.response.data.message}),console.log(t.response)}))},e.sendCode=function(t){t.preventDefault();var a=e.state,n=a.cellNum,s=a.verifyCode,r={cellNum:n,verifyCode:Number(s)};console.log(r),d.a.post("".concat("https://covid-notifier-server.herokuapp.com","/").concat(e.state.uid,"/verify"),r).then((function(t){e.props.history.push({pathname:"/zip"})})).catch((function(t){e.setState({errMsg:t.response.data.message}),console.log(t.response.data.message)}))},e}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"ui container"},this.state.showPhoneInput&&s.a.createElement("form",{className:"ui form",onSubmit:this.getCode,style:{margin:"0 auto",marginTop:"10vh",width:"20vw",textAlign:"center"}},s.a.createElement("div",{className:"field"},s.a.createElement("label",null,"Phone Number"),s.a.createElement("input",{type:"tel",name:"cellNum",placeholder:"123-456-7890",onChange:this.inputChange,required:!0})),this.state.errMsg&&s.a.createElement("p",null,this.state.errMsg),s.a.createElement("button",{className:"ui button",type:"submit"},"Get Verification Code")),this.state.showCodeInput&&s.a.createElement("form",{className:"ui form",onSubmit:this.sendCode,style:{margin:"0 auto",marginTop:"10vh",width:"20vw",textAlign:"center"}},s.a.createElement("div",{className:"field"},s.a.createElement("label",null,"4 digit verify Code"),s.a.createElement("input",{type:"number",name:"verifyCode",placeholder:"1234",onChange:this.inputChange,required:!0}),s.a.createElement("a",{href:"",onClick:this},"Didn't receive it? Click to send again.")),this.state.errMsg&&s.a.createElement("p",null,this.state.errMsg),s.a.createElement("button",{className:"ui button",type:"submit"},"Verify")))}}]),a}(s.a.Component),v=Object(g.f)(f),b=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={zipCode:123,successMsg:"",errMsg:"",showButton:!0},e.inputChange=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e.sendZip=function(t){t.preventDefault(),console.log(e.props.uid),e.setState({successMsg:"",errMsg:""}),d.a.post("".concat("https://covid-notifier-server.herokuapp.com","/").concat(e.props.uid,"/setZip"),{zip:Number(e.state.zipCode)}).then((function(t){e.setState({successMsg:t.data.message,errMsg:"",showButton:!1})})).catch((function(t){e.setState({errMsg:t.response.data.message,successMsg:""}),console.log(t.response.data.message)}))},e}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"ui container"},s.a.createElement("form",{className:"ui form",onSubmit:this.sendZip,style:{margin:"0 auto",marginTop:"10vh",width:"20vw",textAlign:"center"}},s.a.createElement("div",{className:"field"},s.a.createElement("label",null,"ZipCode"),s.a.createElement("input",{type:"number",name:"zipCode",onChange:this.inputChange})),this.state.errMsg&&s.a.createElement("p",null,this.state.errMsg),this.state.successMsg&&s.a.createElement("p",null,this.state.successMsg),this.state.showButton&&s.a.createElement("button",{className:"ui button",type:"submit"},"Use this Zip Code")))}}]),a}(s.a.Component),C=Object(g.f)(b),E=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={uid:123},e.setUid=function(t){e.setState({uid:t})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(g.c,null,s.a.createElement(g.a,{path:"/zip",render:function(){return s.a.createElement(C,{setUid:e.setUid,uid:e.state.uid})}}),s.a.createElement(g.a,{path:"/",render:function(){return s.a.createElement(v,{setUid:e.setUid})}}))}}]),a}(s.a.Component);o.a.render(s.a.createElement(c.a,null,s.a.createElement(E,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.ef0b55c2.chunk.js.map