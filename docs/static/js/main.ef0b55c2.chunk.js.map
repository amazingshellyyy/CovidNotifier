{"version":3,"sources":["components/SignUpWithVerify.js","components/GetLocationForm.js","App.js","index.js"],"names":["SignUpWithVerify","state","cellNum","errMsg","showPhoneInput","showCodeInput","verifyCode","uid","inputChange","e","setState","target","name","value","cleanData","data","console","log","length","concat","newDataArr","i","Number","push","join","getCode","preventDefault","process","axios","post","then","res","createdUser","_id","props","setUid","catch","err","response","message","sendCode","bodyToSend","history","pathname","className","this","onSubmit","style","margin","marginTop","width","textAlign","type","placeholder","onChange","required","href","onClick","React","Component","withRouter","GetLocationForm","zipCode","successMsg","showButton","sendZip","zip","App","path","render","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.ef0b55c2.chunk.js","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\n\nclass SignUpWithVerify extends React.Component{\n\n    state = {\n        cellNum: 123,\n        errMsg: '',\n        showPhoneInput: true,\n        showCodeInput: false,\n        verifyCode: 123,\n        uid:0\n    }\n    \n    inputChange = (e) =>{\n        this.setState({\n           [e.target.name]: e.target.value\n        })\n    }\n\n    cleanData = (data) => {\n        console.log(data)\n        if (data.length < 10) {\n            this.setState({\n                errMsg: 'the number should be 10 digits.'\n            })\n            return;\n        }\n        if (data.length === 10) {\n            return '+1'.concat(data)\n        }\n        let newDataArr = []\n        for (let i = 0; i < data.length; i++) {\n            if(Number(data[i])) {\n                newDataArr.push(data[i])\n            }\n        }\n        return '+1'.concat(newDataArr.join(''))\n    }\n\n    getCode = (e) => {\n        e.preventDefault();\n\n        \n        console.log(`${process.env.REACT_APP_API_URL}/signup`)\n        const cellNum = this.cleanData(this.state.cellNum);\n        if (cellNum && cellNum.length === 12) {\n            axios.post(`${process.env.REACT_APP_API_URL}/signup`,{cellNum})\n            .then(res => {\n                console.log(res.data)\n                this.setState({\n                    showPhoneInput: false,\n                    showCodeInput: true,\n                    errMsg: '',\n                    uid: res.data.createdUser._id,\n                    cellNum: res.data.createdUser.cellNum\n                })\n                this.props.setUid(res.data.createdUser._id);\n            }).catch(err => {\n                this.setState({\n                    errMsg: err.response.data.message\n                })\n                console.log(err.response)\n            })\n        }\n        \n    }\n\n\n    sendCode = (e) => {\n        e.preventDefault();\n        const {cellNum, verifyCode} = this.state;\n        const bodyToSend = {\n            cellNum,\n            verifyCode: Number(verifyCode)\n        };\n        console.log(bodyToSend);\n        \n        axios.post(`${process.env.REACT_APP_API_URL}/${this.state.uid}/verify`,bodyToSend)\n            .then(res => {\n                this.props.history.push({pathname:'/zip'});\n            })\n            .catch(err => {\n                this.setState({\n                    errMsg: err.response.data.message\n                })\n                console.log(err.response.data.message)\n            })\n\n    }\n    render(){\n        return (\n           <div className=\"ui container\">\n              {this.state.showPhoneInput && \n                <form className=\"ui form\" onSubmit={this.getCode} style={{margin:'0 auto',marginTop:'10vh',width:'20vw', textAlign:'center'}}>\n                <div className=\"field\">\n                <label>Phone Number</label>\n                <input type=\"tel\" name=\"cellNum\" placeholder=\"123-456-7890\" onChange={this.inputChange} required/>\n                </div>\n                {this.state.errMsg&& <p>{this.state.errMsg}</p>}\n                <button className=\"ui button\" type=\"submit\">Get Verification Code</button>\n              </form>}\n              {this.state.showCodeInput && \n                <form className=\"ui form\" onSubmit={this.sendCode} style={{margin:'0 auto',marginTop:'10vh',width:'20vw', textAlign:'center'}}>\n                <div className=\"field\">\n                <label>4 digit verify Code</label>\n                <input type=\"number\" name=\"verifyCode\" placeholder='1234' onChange={this.inputChange} required/>\n                <a href=\"\" onClick={this}>{\"Didn't receive it? Click to send again.\"}</a>\n                </div>\n                {this.state.errMsg&& <p>{this.state.errMsg}</p>}\n                <button className=\"ui button\" type=\"submit\">Verify</button>\n              </form>}\n              </div>\n        )\n    }\n}\n\nexport default withRouter(SignUpWithVerify);","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport axios from 'axios';\n\nclass GetLocationForm extends React.Component{\n    state = {\n        zipCode: 123,\n        successMsg: '',\n        errMsg: '',\n        showButton: true\n    }\n    inputChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n\n    sendZip = (e) => {\n        e.preventDefault();\n        console.log(this.props.uid);\n        this.setState({\n            successMsg: '',\n            errMsg: ''\n        })\n        axios.post(`${process.env.REACT_APP_API_URL}/${this.props.uid}/setZip`, {zip:Number(this.state.zipCode)})\n            .then(res => {\n                \n                this.setState({\n                    successMsg: res.data.message,\n                    errMsg:'',\n                    showButton: false\n                })\n            })\n            .catch(err => {\n                this.setState({\n                    errMsg: err.response.data.message,\n                    successMsg: ''\n                })\n                console.log(err.response.data.message)\n            })\n    }\n\n    render(){\n        return (\n            <div className=\"ui container\">\n            <form className=\"ui form\" onSubmit={this.sendZip} style={{margin:'0 auto',marginTop:'10vh',width:'20vw', textAlign:'center'}}>\n                <div className=\"field\">\n                <label>ZipCode</label>\n                <input type=\"number\" name=\"zipCode\" onChange={this.inputChange}/>\n                </div>\n                {this.state.errMsg&& <p>{this.state.errMsg}</p>}\n                {this.state.successMsg&& <p>{this.state.successMsg}</p>}\n                {this.state.showButton && <button className=\"ui button\" type=\"submit\">Use this Zip Code</button>}\n              </form>\n            </div>\n        )\n    }\n}\n\nexport default withRouter(GetLocationForm);\n\n\n","import React from 'react';\nimport SignUp from './components/SignUpWithVerify';\nimport GetLoc from './components/GetLocationForm';\nimport { Switch, Route } from 'react-router-dom';\n\nclass App extends React.Component {\n    state = {\n        uid: 123\n    }\n\n    setUid = (uid) => {\n        this.setState({\n            uid\n        })\n    }\n\n    render(){\n        return (\n            <Switch>\n            <Route path='/zip' render={()=>(<GetLoc setUid={this.setUid} uid={this.state.uid}/>)} />\n            <Route path='/' render={()=>(<SignUp setUid={this.setUid} />)} />\n            </Switch>\n        )\n    }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\n\n\nReactDOM.render(\n    <HashRouter>\n        <App/>\n    </HashRouter>,\n    document.getElementById('root')\n);\n\n"],"sourceRoot":""}